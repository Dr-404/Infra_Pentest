#!/bin/bash

# Check if at least one argument is provided

if [ "$#" -eq 0 ]; then
	echo "Usage: $0 <list_filename>"
	exit 1

fi


file="$1"

if [ ! -f "$file" ];then
	echo "Error '$file' not found"
	exit 1

fi


# Function to check if an IP is pingable

check_ping() {
	if ping -c 1 -W 1 "$1" &> /dev/null; then
		echo -e "\e[32m$1 is pingable.\e[0m"
	else
		echo -e "\e[31m$1 is not pingable.\e[0m"

	fi
}



# Loop through IP address from the provided list

while IFS= read -r ip; do 
	check_ping "$ip"

done < "$file"